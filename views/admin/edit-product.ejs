<%- include('../partials/head.ejs') %>
<link rel="stylesheet" href="/css/forms.css">
<link rel="stylesheet" href="/css/product.css">
</head>

<body>
    <%- include('../partials/navigation.ejs') %>

    <main>
        <form class="product-form" action="<%= formAction %>" method="POST">
            <div class="form-control">
                <label for="title">Title</label>
                <input class="<%= validationErrors.title ? 'invalid' : '' %>" type="text" name="title" id="title"
                    value="<%= oldInputs.title %>">
                <% if(validationErrors.title) {%>
                <span class="input-msg input-msg--error"><%=validationErrors.title %></span>
                <% } %>
            </div>
            <div class="form-control">
                <label for="imageUrl">Image Url</label>
                <input class="<%= validationErrors.imageUrl ? 'invalid' : '' %>" type="text" name="imageUrl"
                    id="imageUrl" value="<%= oldInputs.imageUrl %>">
                <% if(validationErrors.imageUrl) {%>
                <span class="input-msg input-msg--error"><%=validationErrors.imageUrl %></span>
                <% } %>
            </div>

            <div class="form-control">
                <label for="price">Price</label>
                <input class="<%= validationErrors.price ? 'invalid' : '' %>" type="number" name="price" id="price"
                    step="0.01" value="<%= oldInputs.price || '' %>">
                <% if(validationErrors.price) {%>
                <span class="input-msg input-msg--error"><%=validationErrors.price %></span>
                <% } %>
            </div>

            <div class="form-control">
                <label for="description">Description</label>
                <textarea class="<%= validationErrors.description ? 'invalid' : '' %>" type="text" name="description"
                    id="description" rows="5"><%= oldInputs.description %></textarea>
                <% if(validationErrors.description) {%>
                <span class="input-msg input-msg--error"><%=validationErrors.description %></span>
                <% } %>
            </div>
            <% if (oldInputs._id) { %>
            <input type="hidden" value="<%=oldInputs._id%>" name="id">
            <% } %>
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">

            <button class="btn" type="submit"><%= buttonLabel %></button>
        </form>
    </main>
    <%- include('../partials/end.ejs') %>